<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Professional South African CV Builder">
    <title>South African CV Builder</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const FileText = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="16" y1="13" x2="8" y2="13"></line>
                <line x1="16" y1="17" x2="8" y2="17"></line>
            </svg>
        );

        const Download = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
        );

        const Eye = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
            </svg>
        );

        const Edit = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
            </svg>
        );

        const Menu = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        );

        const X = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        );

        function CVBuilder() {
            const [view, setView] = useState('form');
            const [menuOpen, setMenuOpen] = useState(false);
            const [formData, setFormData] = useState({
                surname: '',
                firstName: '',
                dateOfBirth: '',
                idNumber: '',
                race: '',
                gender: '',
                nationality: 'South African',
                maritalStatus: '',
                healthStatus: 'Good',
                homeLanguage: '',
                alternativeLanguages: '',
                criminalRecords: 'None',
                driversLicense: 'None',
                contactNumber: '',
                email: '',
                physicalAddress: '',
                suburb: '',
                city: '',
                postalCode: '',
                schoolAttended: '',
                highestGrade: '',
                subjects: '',
                yearObtained: '',
                experiences: [{ companyName: '', occupation: '', duration: '' }],
                references: [{ name: '', relationship: '', contactNumber: '' }]
            });

            const handleInputChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
            };

            const handleExperienceChange = (index, field, value) => {
                const newExperiences = [...formData.experiences];
                newExperiences[index][field] = value;
                setFormData(prev => ({ ...prev, experiences: newExperiences }));
            };

            const addExperience = () => {
                setFormData(prev => ({
                    ...prev,
                    experiences: [...prev.experiences, { companyName: '', occupation: '', duration: '' }]
                }));
            };

            const removeExperience = (index) => {
                setFormData(prev => ({
                    ...prev,
                    experiences: prev.experiences.filter((_, i) => i !== index)
                }));
            };

            const handleReferenceChange = (index, field, value) => {
                const newReferences = [...formData.references];
                newReferences[index][field] = value;
                setFormData(prev => ({ ...prev, references: newReferences }));
            };

            const addReference = () => {
                setFormData(prev => ({
                    ...prev,
                    references: [...prev.references, { name: '', relationship: '', contactNumber: '' }]
                }));
            };

            const removeReference = (index) => {
                setFormData(prev => ({
                    ...prev,
                    references: prev.references.filter((_, i) => i !== index)
                }));
            };

            const downloadPDF = () => {
                const iframe = document.createElement('iframe');
                iframe.style.position = 'fixed';
                iframe.style.right = '0';
                iframe.style.bottom = '0';
                iframe.style.width = '0';
                iframe.style.height = '0';
                iframe.style.border = 'none';
                document.body.appendChild(iframe);

                const cvContent = `
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>CV - ${formData.firstName} ${formData.surname}</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: Arial, Helvetica, sans-serif;
      padding: 40px;
      line-height: 1.5;
      color: #000;
      background: white;
    }
    .header {
      text-align: center;
      margin-bottom: 30px;
      padding-bottom: 15px;
      border-bottom: 3px solid #000;
    }
    .header h2 {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 10px;
      letter-spacing: 0.5px;
    }
    .header h1 {
      font-size: 24px;
      font-weight: bold;
      letter-spacing: 1px;
    }
    .section-title {
      font-weight: bold;
      font-size: 15px;
      margin-top: 25px;
      margin-bottom: 12px;
      text-decoration: underline;
      letter-spacing: 0.3px;
    }
    .field {
      margin-left: 30px;
      margin-bottom: 6px;
      font-size: 14px;
      display: flex;
    }
    .field-label {
      display: inline-block;
      min-width: 220px;
      font-weight: normal;
    }
    .field-value {
      flex: 1;
    }
    .space { margin-bottom: 15px; }
    @media print {
      body { padding: 30px; }
      @page { 
        margin: 2cm;
        size: A4;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <h2>CURRICULUM VITAE OF</h2>
    <h1>${formData.firstName.toUpperCase()} ${formData.surname.toUpperCase()}</h1>
  </div>

  <div class="section-title">CONTACT DETAILS</div>
  <div class="field"><span class="field-label">Contact Number</span><span class="field-value">: ${formData.contactNumber || ''}</span></div>
  <div class="field"><span class="field-label">Email</span><span class="field-value">: ${formData.email || ''}</span></div>
  <div class="field"><span class="field-label">Physical Address</span><span class="field-value">: ${formData.physicalAddress || ''}</span></div>
  ${formData.suburb ? `<div class="field"><span class="field-label"></span><span class="field-value">: ${formData.suburb}</span></div>` : ''}
  ${formData.city ? `<div class="field"><span class="field-label"></span><span class="field-value">: ${formData.city}</span></div>` : ''}
  ${formData.postalCode ? `<div class="field"><span class="field-label"></span><span class="field-value">: ${formData.postalCode}</span></div>` : ''}

  <div class="section-title">PERSONAL DETAILS</div>
  <div class="field"><span class="field-label">Surname</span><span class="field-value">: ${formData.surname || ''}</span></div>
  <div class="field"><span class="field-label">First Name(s)</span><span class="field-value">: ${formData.firstName || ''}</span></div>
  <div class="field"><span class="field-label">Date of Birth</span><span class="field-value">: ${formData.dateOfBirth || ''}</span></div>
  <div class="field"><span class="field-label">Identity Number</span><span class="field-value">: ${formData.idNumber || ''}</span></div>
  ${formData.race ? `<div class="field"><span class="field-label">Race</span><span class="field-value">: ${formData.race}</span></div>` : ''}
  ${formData.gender ? `<div class="field"><span class="field-label">Gender</span><span class="field-value">: ${formData.gender}</span></div>` : ''}
  <div class="field"><span class="field-label">Nationality</span><span class="field-value">: ${formData.nationality || ''}</span></div>
  ${formData.maritalStatus ? `<div class="field"><span class="field-label">Marital Status</span><span class="field-value">: ${formData.maritalStatus}</span></div>` : ''}
  <div class="field"><span class="field-label">Health Status</span><span class="field-value">: ${formData.healthStatus || ''}</span></div>
  ${formData.homeLanguage ? `<div class="field"><span class="field-label">Home Language</span><span class="field-value">: ${formData.homeLanguage}</span></div>` : ''}
  ${formData.alternativeLanguages ? `<div class="field"><span class="field-label">Alternative Languages</span><span class="field-value">: ${formData.alternativeLanguages}</span></div>` : ''}
  <div class="field"><span class="field-label">Criminal Records</span><span class="field-value">: ${formData.criminalRecords || ''}</span></div>
  <div class="field"><span class="field-label">Driver's License</span><span class="field-value">: ${formData.driversLicense || ''}</span></div>

  ${(formData.schoolAttended || formData.highestGrade || formData.subjects || formData.yearObtained) ? `
  <div class="section-title">EDUCATIONAL HISTORY</div>
  ${formData.schoolAttended ? `<div class="field"><span class="field-label">School Attended</span><span class="field-value">: ${formData.schoolAttended}</span></div>` : ''}
  ${formData.highestGrade ? `<div class="field"><span class="field-label">Highest Grade Passed</span><span class="field-value">: ${formData.highestGrade}</span></div>` : ''}
  ${formData.subjects ? `
    <div class="field"><span class="field-label">Subjects Passed</span><span class="field-value">: ${formData.subjects.split(',')[0].trim()}</span></div>
    ${formData.subjects.split(',').slice(1).map(s => `<div class="field"><span class="field-label"></span><span class="field-value">: ${s.trim()}</span></div>`).join('')}
  ` : ''}
  ${formData.yearObtained ? `<div class="field"><span class="field-label">Year Obtained</span><span class="field-value">: ${formData.yearObtained}</span></div>` : ''}
  ` : ''}

  ${formData.experiences.some(exp => exp.companyName || exp.occupation) ? `
  <div class="section-title">WORK EXPERIENCE</div>
  ${formData.experiences.map(exp => {
    if (!exp.companyName && !exp.occupation && !exp.duration) return '';
    return `
      ${exp.companyName ? `<div class="field"><span class="field-label">Company Name</span><span class="field-value">: ${exp.companyName}</span></div>` : ''}
      ${exp.occupation ? `<div class="field"><span class="field-label">Occupation</span><span class="field-value">: ${exp.occupation}</span></div>` : ''}
      ${exp.duration ? `<div class="field"><span class="field-label">Duration</span><span class="field-value">: ${exp.duration}</span></div>` : ''}
      <div class="space"></div>
    `;
  }).join('')}
  ` : ''}

  ${formData.references.some(ref => ref.name || ref.contactNumber) ? `
  <div class="section-title">REFERENCES</div>
  ${formData.references.map(ref => {
    if (!ref.name && !ref.relationship && !ref.contactNumber) return '';
    return `
      ${ref.name ? `<div class="field"><span class="field-label">Contact Person</span><span class="field-value">: ${ref.name}</span></div>` : ''}
      ${ref.relationship ? `<div class="field"><span class="field-label">Relationship</span><span class="field-value">: ${ref.relationship}</span></div>` : ''}
      ${ref.contactNumber ? `<div class="field"><span class="field-label">Contact Number</span><span class="field-value">: ${ref.contactNumber}</span></div>` : ''}
      <div class="space"></div>
    `;
  }).join('')}
  ` : ''}
</body>
</html>`;

                const doc = iframe.contentWindow.document;
                doc.open();
                doc.write(cvContent);
                doc.close();

                iframe.onload = () => {
                    setTimeout(() => {
                        iframe.contentWindow.focus();
                        iframe.contentWindow.print();
                        
                        setTimeout(() => {
                            document.body.removeChild(iframe);
                        }, 1000);
                    }, 250);
                };
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100">
                    <div className="w-full">
                        <div className="bg-gradient-to-r from-blue-600 to-indigo-600 p-4 text-white sticky top-0 z-50 shadow-lg">
                            <div className="flex items-center justify-between max-w-6xl mx-auto">
                                <div className="flex items-center gap-2">
                                    <FileText size={24} />
                                    <h1 className="text-lg sm:text-2xl font-bold truncate">SA CV Builder</h1>
                                </div>
                                
                                <div className="hidden sm:flex gap-2">
                                    <button
                                        onClick={() => setView('form')}
                                        className={`px-3 sm:px-4 py-2 rounded-lg flex items-center gap-2 transition text-sm sm:text-base ${
                                            view === 'form' ? 'bg-white text-blue-600' : 'bg-blue-500 text-white hover:bg-blue-400'
                                        }`}
                                    >
                                        <Edit size={18} />
                                        <span className="hidden sm:inline">Edit</span>
                                    </button>
                                    <button
                                        onClick={() => setView('preview')}
                                        className={`px-3 sm:px-4 py-2 rounded-lg flex items-center gap-2 transition text-sm sm:text-base ${
                                            view === 'preview' ? 'bg-white text-blue-600' : 'bg-blue-500 text-white hover:bg-blue-400'
                                        }`}
                                    >
                                        <Eye size={18} />
                                        <span className="hidden sm:inline">Preview</span>
                                    </button>
                                </div>

                                <button
                                    onClick={() => setMenuOpen(!menuOpen)}
                                    className="sm:hidden p-2 hover:bg-blue-500 rounded-lg"
                                >
                                    {menuOpen ? <X size={24} /> : <Menu size={24} />}
                                </button>
                            </div>

                            {menuOpen && (
                                <div className="sm:hidden mt-4 space-y-2 pb-2">
                                    <button
                                        onClick={() => { setView('form'); setMenuOpen(false); }}
                                        className={`w-full px-4 py-3 rounded-lg flex items-center gap-2 transition ${
                                            view === 'form' ? 'bg-white text-blue-600' : 'bg-blue-500 text-white'
                                        }`}
                                    >
                                        <Edit size={18} />
                                        Edit CV
                                    </button>
                                    <button
                                        onClick={() => { setView('preview'); setMenuOpen(false); }}
                                        className={`w-full px-4 py-3 rounded-lg flex items-center gap-2 transition ${
                                            view === 'preview' ? 'bg-white text-blue-600' : 'bg-blue-500 text-white'
                                        }`}
                                    >
                                        <Eye size={18} />
                                        Preview CV
                                    </button>
                                </div>
                            )}
                        </div>

                        {view === 'form' ? (
                            <div className="p-4 sm:p-6 max-w-6xl mx-auto">
                                <div className="bg-white rounded-lg shadow-xl p-4 sm:p-8">
                                    <form className="space-y-6">
                                        <section className="border-b pb-4 sm:pb-6">
                                            <h2 className="text-xl sm:text-2xl font-bold text-gray-800 mb-3 sm:mb-4">Contact Details</h2>
                                            <div className="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Contact Number *</label>
                                                    <input
                                                        type="tel"
                                                        name="contactNumber"
                                                        value={formData.contactNumber}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="076 018 5545"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Email Address *</label>
                                                    <input
                                                        type="email"
                                                        name="email"
                                                        value={formData.email}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="your.email@example.com"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Physical Address *</label>
                                                    <input
                                                        type="text"
                                                        name="physicalAddress"
                                                        value={formData.physicalAddress}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="5114 K6"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Suburb</label>
                                                    <input
                                                        type="text"
                                                        name="suburb"
                                                        value={formData.suburb}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="KUTLWANONG"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">City *</label>
                                                    <input
                                                        type="text"
                                                        name="city"
                                                        value={formData.city}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="ODENDAALSRUS"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Postal Code *</label>
                                                    <input
                                                        type="text"
                                                        name="postalCode"
                                                        value={formData.postalCode}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="9480"
                                                    />
                                                </div>
                                            </div>
                                        </section>

                                        <section className="border-b pb-4 sm:pb-6">
                                            <h2 className="text-xl sm:text-2xl font-bold text-gray-800 mb-3 sm:mb-4">Personal Details</h2>
                                            <div className="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Surname *</label>
                                                    <input
                                                        type="text"
                                                        name="surname"
                                                        value={formData.surname}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="Maleke"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">First Name(s) *</label>
                                                    <input
                                                        type="text"
                                                        name="firstName"
                                                        value={formData.firstName}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="Lehlohonolo Thulo"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Date of Birth *</label>
                                                    <input
                                                        type="date"
                                                        name="dateOfBirth"
                                                        value={formData.dateOfBirth}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">ID Number *</label>
                                                    <input
                                                        type="text"
                                                        name="idNumber"
                                                        value={formData.idNumber}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="010822 5578 088"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Race</label>
                                                    <select
                                                        name="race"
                                                        value={formData.race}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                    >
                                                        <option value="">Select...</option>
                                                        <option value="African (Black)">African (Black)</option>
                                                        <option value="Coloured">Coloured</option>
                                                        <option value="Indian/Asian">Indian/Asian</option>
                                                        <option value="White">White</option>
                                                        <option value="Other">Other</option>
                                                    </select>
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Gender</label>
                                                    <select
                                                        name="gender"
                                                        value={formData.gender}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                    >
                                                        <option value="">Select...</option>
                                                        <option value="Male">Male</option>
                                                        <option value="Female">Female</option>
                                                    </select>
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Nationality</label>
                                                    <input
                                                        type="text"
                                                        name="nationality"
                                                        value={formData.nationality}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Marital Status</label>
                                                    <select
                                                        name="maritalStatus"
                                                        value={formData.maritalStatus}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                    >
                                                        <option value="">Select...</option>
                                                        <option value="Single">Single</option>
                                                        <option value="Married">Married</option>
                                                        <option value="Divorced">Divorced</option>
                                                        <option value="Widowed">Widowed</option>
                                                    </select>
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Health Status</label>
                                                    <input
                                                        type="text"
                                                        name="healthStatus"
                                                        value={formData.healthStatus}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Home Language</label>
                                                    <input
                                                        type="text"
                                                        name="homeLanguage"
                                                        value={formData.homeLanguage}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="Sesotho"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Alternative Languages</label>
                                                    <input
                                                        type="text"
                                                        name="alternativeLanguages"
                                                        value={formData.alternativeLanguages}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="English, Afrikaans"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Criminal Records</label>
                                                    <input
                                                        type="text"
                                                        name="criminalRecords"
                                                        value={formData.criminalRecords}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Driver's License</label>
                                                    <input
                                                        type="text"
                                                        name="driversLicense"
                                                        value={formData.driversLicense}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="Code 08, None"
                                                    />
                                                </div>
                                            </div>
                                        </section>

                                        <section className="border-b pb-4 sm:pb-6">
                                            <h2 className="text-xl sm:text-2xl font-bold text-gray-800 mb-3 sm:mb-4">Educational History</h2>
                                            <div className="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">School Attended</label>
                                                    <input
                                                        type="text"
                                                        name="schoolAttended"
                                                        value={formData.schoolAttended}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="Rearabetswe Secondary School"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Highest Grade Passed</label>
                                                    <input
                                                        type="text"
                                                        name="highestGrade"
                                                        value={formData.highestGrade}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="Grade 12"
                                                    />
                                                </div>
                                                <div className="sm:col-span-2">
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Subjects Passed (comma separated)</label>
                                                    <textarea
                                                        name="subjects"
                                                        value={formData.subjects}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        rows="3"
                                                        placeholder="English, Sesotho, Afrikaans, Tourism"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Year Obtained</label>
                                                    <input
                                                        type="text"
                                                        name="yearObtained"
                                                        value={formData.yearObtained}
                                                        onChange={handleInputChange}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                        placeholder="2022"
                                                    />
                                                </div>
                                            </div>
                                        </section>

                                        <section className="border-b pb-4 sm:pb-6">
                                            <div className="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-3 sm:mb-4 gap-2">
                                                <h2 className="text-xl sm:text-2xl font-bold text-gray-800">Work Experience</h2>
                                                <button
                                                    type="button"
                                                    onClick={addExperience}
                                                    className="w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm"
                                                >
                                                    + Add Experience
                                                </button>
                                            </div>
                                            {formData.experiences.map((exp, index) => (
                                                <div key={index} className="mb-4 p-3 sm:p-4 bg-gray-50 rounded-lg">
                                                    <div className="flex justify-between items-center mb-3">
                                                        <h3 className="font-semibold text-gray-700 text-sm sm:text-base">Experience {index + 1}</h3>
                                                        {formData.experiences.length > 1 && (
                                                            <button
                                                                type="button"
                                                                onClick={() => removeExperience(index)}
                                                                className="text-red-600 hover:text-red-800 text-sm"
                                                            >
                                                                Remove
                                                            </button>
                                                        )}
                                                    </div>
                                                    <div className="grid grid-cols-1 sm:grid-cols-3 gap-3">
                                                        <div>
                                                            <label className="block text-sm font-medium text-gray-700 mb-1">Company Name</label>
                                                            <input
                                                                type="text"
                                                                value={exp.companyName}
                                                                onChange={(e) => handleExperienceChange(index, 'companyName', e.target.value)}
                                                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                                placeholder="Cosmetics"
                                                            />
                                                        </div>
                                                        <div>
                                                            <label className="block text-sm font-medium text-gray-700 mb-1">Occupation</label>
                                                            <input
                                                                type="text"
                                                                value={exp.occupation}
                                                                onChange={(e) => handleExperienceChange(index, 'occupation', e.target.value)}
                                                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                                placeholder="Merchandiser"
                                                            />
                                                        </div>
                                                        <div>
                                                            <label className="block text-sm font-medium text-gray-700 mb-1">Duration</label>
                                                            <input
                                                                type="text"
                                                                value={exp.duration}
                                                                onChange={(e) => handleExperienceChange(index, 'duration', e.target.value)}
                                                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                                placeholder="8 Months"
                                                            />
                                                        </div>
                                                    </div>
                                                </div>
                                            ))}
                                        </section>

                                        <section>
                                            <div className="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-3 sm:mb-4 gap-2">
                                                <h2 className="text-xl sm:text-2xl font-bold text-gray-800">References</h2>
                                                <button
                                                    type="button"
                                                    onClick={addReference}
                                                    className="w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm"
                                                >
                                                    + Add Reference
                                                </button>
                                            </div>
                                            {formData.references.map((ref, index) => (
                                                <div key={index} className="mb-4 p-3 sm:p-4 bg-gray-50 rounded-lg">
                                                    <div className="flex justify-between items-center mb-3">
                                                        <h3 className="font-semibold text-gray-700 text-sm sm:text-base">Reference {index + 1}</h3>
                                                        {formData.references.length > 1 && (
                                                            <button
                                                                type="button"
                                                                onClick={() => removeReference(index)}
                                                                className="text-red-600 hover:text-red-800 text-sm"
                                                            >
                                                                Remove
                                                            </button>
                                                        )}
                                                    </div>
                                                    <div className="grid grid-cols-1 sm:grid-cols-3 gap-3">
                                                        <div>
                                                            <label className="block text-sm font-medium text-gray-700 mb-1">Contact Person</label>
                                                            <input
                                                                type="text"
                                                                value={ref.name}
                                                                onChange={(e) => handleReferenceChange(index, 'name', e.target.value)}
                                                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                                placeholder="Mr Sephula"
                                                            />
                                                        </div>
                                                        <div>
                                                            <label className="block text-sm font-medium text-gray-700 mb-1">Relationship</label>
                                                            <input
                                                                type="text"
                                                                value={ref.relationship}
                                                                onChange={(e) => handleReferenceChange(index, 'relationship', e.target.value)}
                                                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                                placeholder="Family, Principal"
                                                            />
                                                        </div>
                                                        <div>
                                                            <label className="block text-sm font-medium text-gray-700 mb-1">Contact Number</label>
                                                            <input
                                                                type="tel"
                                                                value={ref.contactNumber}
                                                                onChange={(e) => handleReferenceChange(index, 'contactNumber', e.target.value)}
                                                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-base"
                                                                placeholder="078 575 5614"
                                                            />
                                                        </div>
                                                    </div>
                                                </div>
                                            ))}
                                        </section>
                                    </form>
                                </div>
                            </div>
                        ) : (
                            <div className="p-4 sm:p-6 max-w-4xl mx-auto">
                                <div className="bg-white border-2 border-gray-200 rounded-lg p-6 sm:p-10 shadow-xl">
                                    <div className="text-center mb-8 border-b-4 border-gray-900 pb-5">
                                        <h2 className="text-base sm:text-lg font-bold mb-3 tracking-wide">CURRICULUM VITAE OF</h2>
                                        <h1 className="text-xl sm:text-3xl font-bold break-words tracking-wider">
                                            {formData.firstName.toUpperCase()} {formData.surname.toUpperCase()}
                                        </h1>
                                    </div>

                                    <div className="mb-6">
                                        <h3 className="font-bold text-sm sm:text-base underline mb-3 tracking-wide">CONTACT DETAILS</h3>
                                        <div className="ml-4 sm:ml-8 space-y-2 text-xs sm:text-sm">
                                            <div className="flex"><span className="inline-block w-40 sm:w-56">Contact Number</span><span>: {formData.contactNumber}</span></div>
                                            <div className="flex"><span className="inline-block w-40 sm:w-56">Email</span><span className="break-all">: {formData.email}</span></div>
                                            <div className="flex"><span className="inline-block w-40 sm:w-56">Physical Address</span><span>: {formData.physicalAddress}</span></div>
                                            {formData.suburb && <div className="flex"><span className="inline-block w-40 sm:w-56"></span><span>: {formData.suburb}</span></div>}
                                            {formData.city && <div className="flex"><span className="inline-block w-40 sm:w-56"></span><span>: {formData.city}</span></div>}
                                            {formData.postalCode && <div className="flex"><span className="inline-block w-40 sm:w-56"></span><span>: {formData.postalCode}</span></div>}
                                        </div>
                                    </div>

                                    <div className="mb-6">
                                        <h3 className="font-bold text-sm sm:text-base underline mb-3 tracking-wide">PERSONAL DETAILS</h3>
                                        <div className="ml-4 sm:ml-8 space-y-2 text-xs sm:text-sm">
                                            <div className="flex"><span className="inline-block w-40 sm:w-56">Surname</span><span>: {formData.surname}</span></div>
                                            <div className="flex"><span className="inline-block w-40 sm:w-56">First Name(s)</span><span>: {formData.firstName}</span></div>
                                            <div className="flex"><span className="inline-block w-40 sm:w-56">Date of Birth</span><span>: {formData.dateOfBirth}</span></div>
                                            <div className="flex"><span className="inline-block w-40 sm:w-56">Identity Number</span><span>: {formData.idNumber}</span></div>
                                            {formData.race && <div className="flex"><span className="inline-block w-40 sm:w-56">Race</span><span>: {formData.race}</span></div>}
                                            {formData.gender && <div className="flex"><span className="inline-block w-40 sm:w-56">Gender</span><span>: {formData.gender}</span></div>}
                                            <div className="flex"><span className="inline-block w-40 sm:w-56">Nationality</span><span>: {formData.nationality}</span></div>
                                            {formData.maritalStatus && <div className="flex"><span className="inline-block w-40 sm:w-56">Marital Status</span><span>: {formData.maritalStatus}</span></div>}
                                            <div className="flex"><span className="inline-block w-40 sm:w-56">Health Status</span><span>: {formData.healthStatus}</span></div>
                                            {formData.homeLanguage && <div className="flex"><span className="inline-block w-40 sm:w-56">Home Language</span><span>: {formData.homeLanguage}</span></div>}
                                            {formData.alternativeLanguages && <div className="flex"><span className="inline-block w-40 sm:w-56">Alternative Languages</span><span>: {formData.alternativeLanguages}</span></div>}
                                            <div className="flex"><span className="inline-block w-40 sm:w-56">Criminal Records</span><span>: {formData.criminalRecords}</span></div>
                                            <div className="flex"><span className="inline-block w-40 sm:w-56">Driver's License</span><span>: {formData.driversLicense}</span></div>
                                        </div>
                                    </div>

                                    {(formData.schoolAttended || formData.highestGrade || formData.subjects || formData.yearObtained) && (
                                        <div className="mb-6">
                                            <h3 className="font-bold text-sm sm:text-base underline mb-3 tracking-wide">EDUCATIONAL HISTORY</h3>
                                            <div className="ml-4 sm:ml-8 space-y-2 text-xs sm:text-sm">
                                                {formData.schoolAttended && <div className="flex"><span className="inline-block w-40 sm:w-56">School Attended</span><span>: {formData.schoolAttended}</span></div>}
                                                {formData.highestGrade && <div className="flex"><span className="inline-block w-40 sm:w-56">Highest Grade Passed</span><span>: {formData.highestGrade}</span></div>}
                                                {formData.subjects && (
                                                    <>
                                                        <div className="flex"><span className="inline-block w-40 sm:w-56">Subjects Passed</span><span>: {formData.subjects.split(',')[0].trim()}</span></div>
                                                        {formData.subjects.split(',').slice(1).map((subject, i) => (
                                                            <div key={i} className="flex"><span className="inline-block w-40 sm:w-56"></span><span>: {subject.trim()}</span></div>
                                                        ))}
                                                    </>
                                                )}
                                                {formData.yearObtained && <div className="flex"><span className="inline-block w-40 sm:w-56">Year Obtained</span><span>: {formData.yearObtained}</span></div>}
                                            </div>
                                        </div>
                                    )}

                                    {formData.experiences.some(exp => exp.companyName || exp.occupation || exp.duration) && (
                                        <div className="mb-6">
                                            <h3 className="font-bold text-sm sm:text-base underline mb-3 tracking-wide">WORK EXPERIENCE</h3>
                                            <div className="ml-4 sm:ml-8 space-y-4 text-xs sm:text-sm">
                                                {formData.experiences.map((exp, index) => (
                                                    (exp.companyName || exp.occupation || exp.duration) && (
                                                        <div key={index} className="space-y-2">
                                                            {exp.companyName && <div className="flex"><span className="inline-block w-40 sm:w-56">Company Name</span><span>: {exp.companyName}</span></div>}
                                                            {exp.occupation && <div className="flex"><span className="inline-block w-40 sm:w-56">Occupation</span><span>: {exp.occupation}</span></div>}
                                                            {exp.duration && <div className="flex"><span className="inline-block w-40 sm:w-56">Duration</span><span>: {exp.duration}</span></div>}
                                                        </div>
                                                    )
                                                ))}
                                            </div>
                                        </div>
                                    )}

                                    {formData.references.some(ref => ref.name || ref.relationship || ref.contactNumber) && (
                                        <div className="mb-6">
                                            <h3 className="font-bold text-sm sm:text-base underline mb-3 tracking-wide">REFERENCES</h3>
                                            <div className="ml-4 sm:ml-8 space-y-4 text-xs sm:text-sm">
                                                {formData.references.map((ref, index) => (
                                                    (ref.name || ref.relationship || ref.contactNumber) && (
                                                        <div key={index} className="space-y-2">
                                                            {ref.name && <div className="flex"><span className="inline-block w-40 sm:w-56">Contact Person</span><span>: {ref.name}</span></div>}
                                                            {ref.relationship && <div className="flex"><span className="inline-block w-40 sm:w-56">Relationship</span><span>: {ref.relationship}</span></div>}
                                                            {ref.contactNumber && <div className="flex"><span className="inline-block w-40 sm:w-56">Contact Number</span><span>: {ref.contactNumber}</span></div>}
                                                        </div>
                                                    )
                                                ))}
                                            </div>
                                        </div>
                                    )}
                                </div>

                                <div className="mt-6 text-center">
                                    <button
                                        onClick={downloadPDF}
                                        className="w-full sm:w-auto px-8 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center justify-center gap-3 shadow-lg text-base sm:text-lg font-bold mx-auto"
                                    >
                                        <Download size={24} />
                                        Download as PDF
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CVBuilder />);
    </script>
</body>
    </html>
